<!DOCTYPE html>
<html>
<head>
	<title>test</title>
	<script type="text/javascript" src="pixi.min.js"></script>
</head>
<body style = "font-size:0; padding:0; margin:0">
<script> 
	//make sure PIXI is working
	console.log(PIXI); 

	//initializes variables
	var cards = [];
	var state = firstFunc;
	//SETUP
	//Create the renderer (DON'T CHANGE THIS USUALLY)
	var renderer = PIXI.autoDetectRenderer(256, 256, {antialias: false, transparent: false, resolution: 1});
	renderer.autoResize = true;
	//You can set certain css elements in the script
	renderer.view.style.position = "absolute";
	renderer.view.style.display = "block";
	renderer.resize(window.innerWidth, window.innerHeight);
	//Add the canvas to the HTML document
	document.body.appendChild(renderer.view);
	//Create a CONTAINER object called the `stage`
	var stage = new PIXI.Container();
	
	PIXI.loader
		.add ('BlankCard.png')
		.on("progress", loadProgressHandler)
		.load (setup); //you can put a function name within the parens
	
	function loadProgressHandler(loader, resource) {

		  //Display the file `url` currently being loaded
		  console.log("loading: " + resource.url); 

		  //Display the precentage of files currently loaded
		  console.log("progress: " + loader.progress + "%"); 

		  //If you gave your files names as the first argument 
		  //of the `add` method, you can access them like this
		  //console.log("loading: " + resource.name);
	}

function setup() {
    for (var i = 0; i< 7; i++){
        cards.push(new PIXI.Sprite(PIXI.loader.resources["BlankCard.png"].texture));
        cards[i].position.y = renderer.height+i*20;
        cards[i].width = renderer.width;
        cards[i].height = renderer.height;
        stage.addChild(cards[i]);
        gameLoop();
    }
  //Render the stage   
  //renderer.render(stage);
}


function firstFunc(){
	for (var i = 0; i<cards.length; i++){
		if (cards[i].y>i*2){		
			cards[i].y-=8;
		}
	}
}

//gameLoop();
function gameLoop() {
	requestAnimationFrame(gameLoop);
	state();
	//Tell the `renderer` to `render` the `stage` (DO THIS LAST)
	renderer.render(stage);
}





</script>
</body>
</html>